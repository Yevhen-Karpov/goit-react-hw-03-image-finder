{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","component/Button/Button.module.css","component/ImageGallery/ImageGallery.module.css","component/App/App.module.css","component/Searchbar/Searchbar.jsx","component/Modal/Modal.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Loader/Loader.jsx","component/Button/Button.jsx","component/apiService.jsx","component/ImageGallery/ImageGallery.jsx","component/App/App.jsx","index.js","component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","text","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","resetState","className","s","searchbar","this","form","type","button","input","name","onChange","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","src","alt","createPortal","overlay","onClick","modal","width","ImageGalleryItem","showModal","toggleModal","card","imageGalleryItem","webformatURL","imageGalleryItemImage","largeImageURL","tags","id","Loader","role","size","Button","handleClick","scroll","scrollToBottom","api","fetchApi","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","cards","status","handleRenderPage","prevState","hits","catch","handleAddPage","prevProps","gallery","map","length","propTypes","App","handleFormSubmit","ReactDOM","render","StrictMode","app","getElementById"],"mappings":"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","file":"static/js/main.b158fe07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3Y7HW\",\"modal\":\"Modal_modal__3UlS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3zw6h\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2t-xa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1UYt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1zUHZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__37JOc\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n  handleInputChange = e => {\r\n    this.setState({ text: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Поле не должно быть пустым');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({ text: '' });\r\n  };\r\n  resetState = () => {\r\n    this.setState({});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch />\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"text\"\r\n            value={this.state.text}\r\n            onChange={this.handleInputChange}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  //   static propTypes = {\r\n  //     onClose: PropTypes.func.isRequired,\r\n  //     src: PropTypes.string.isRequired,\r\n  //     alt: PropTypes.string.isRequired,\r\n  //   };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={alt} width={960} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from 'component/Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n  render() {\r\n    const { card } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <li key={card.id} className={s.imageGalleryItem}>\r\n        <img\r\n          onClick={this.toggleModal}\r\n          src={card.webformatURL}\r\n          alt=\"\"\r\n          className={s.imageGalleryItemImage}\r\n        />\r\n        {showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            src={card.largeImageURL}\r\n            alt={card.tags}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import { ImSpinner } from 'react-icons/im';\r\n\r\nimport React from 'react';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <ImSpinner size=\"32\" />\r\n      Загружаем...\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport s from './Button.module.css';\r\nexport default class Button extends Component {\r\n  handleClick = () => {\r\n    this.props.onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.button} onClick={this.handleClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","const BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23964778-a3e050be7e1391d793e3046e4';\r\n\r\nfunction fetchApi(text, page) {\r\n  return fetch(\r\n    `${BASE_URL}/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`Нет результатов поиска по данному запросу`),\r\n    );\r\n  });\r\n}\r\nconst api = { fetchApi };\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport api from '../apiService';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    cards: [],\r\n    status: 'idle',\r\n  };\r\n\r\n  handleRenderPage = () => {\r\n    this.setState({ cards: [] });\r\n    const { text, page } = this.props;\r\n    // const { text } = this.props;\r\n\r\n    api\r\n      .fetchApi(text, page)\r\n      .then(cards =>\r\n        this.setState(prevState => ({\r\n          cards: [...prevState.cards, ...cards.hits],\r\n          status: 'resolved',\r\n          page: 2,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ status: 'rejected' }));\r\n  };\r\n  handleAddPage = () => {\r\n    api\r\n      .fetchApi(this.props.text, this.state.page)\r\n      .then(cards =>\r\n        this.setState(prevState => ({\r\n          cards: [...prevState.cards, ...cards.hits],\r\n          status: 'resolved',\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ status: 'rejected' }));\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.setState({ status: 'pending' });\r\n      this.handleRenderPage();\r\n    }\r\n  }\r\n  render() {\r\n    const { status, cards } = this.state;\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ul className={s.gallery}>\r\n            {cards.map(card => (\r\n              <ImageGalleryItem card={card} key={card.id} />\r\n            ))}\r\n          </ul>\r\n          <Button onClick={this.handleAddPage} />\r\n        </>\r\n      );\r\n    }\r\n    if (cards.length === 0) {\r\n      return toast.error(`Нет результатов поиска по данному запросу`);\r\n    }\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {};\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nexport default class App extends Component {\r\n  state = {\r\n    text: '',\r\n\r\n    page: 1,\r\n  };\r\n  handleFormSubmit = text => {\r\n    this.setState({ text: text });\r\n  };\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {}\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n\r\n        <ImageGallery text={this.state.text} page={this.state.page} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App/App';\nimport s from '../src/component/App/App.module.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s.app} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3KMqL\",\"form\":\"Searchbar_form__121O0\",\"button\":\"Searchbar_button__1xNku\",\"buttonLabel\":\"Searchbar_buttonLabel__26Bc2\",\"input\":\"Searchbar_input__3fir2\"};"],"sourceRoot":""}