{"version":3,"sources":["component/ImageGalleryItem/ImageGalleryItem.module.css","component/ImageGallery/ImageGallery.module.css","component/Searchbar/Searchbar.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Loader/Loader.jsx","component/Button/Button.jsx","component/ImageGallery/ImageGallery.jsx","component/App/App.jsx","index.js","component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","text","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","resetState","className","s","searchbar","this","form","type","button","input","name","onChange","placeholder","Component","ImageGalleryItem","card","imageGalleryItem","src","webformatURL","alt","imageGalleryItemImage","id","Loader","role","size","Button","handleClick","onClick","ImageGallery","page","cards","status","fetch","then","response","ok","json","Promise","reject","Error","fetchApi","prevState","hits","catch","prevProps","handleRenderPage","length","gallery","map","propTypes","App","handleFormSubmit","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75d13cb1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3zw6h\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2t-xa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1zUHZ\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n  handleInputChange = e => {\r\n    this.setState({ text: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Поле не должно быть пустым');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({ text: '' });\r\n  };\r\n  resetState = () => {\r\n    this.setState({});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch />\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"text\"\r\n            value={this.state.text}\r\n            onChange={this.handleInputChange}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import ImageGalleryItem from 'component/ImageGallery/ImageGallery';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ card }) {\r\n  return (\r\n    <li key={card.id} className={s.imageGalleryItem}>\r\n      <img src={card.webformatURL} alt=\"\" className={s.imageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n","import { ImSpinner } from 'react-icons/im';\r\n\r\nimport React from 'react';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <ImSpinner size=\"32\" />\r\n      Загружаем...\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\n\r\nexport default class Button extends Component {\r\n  handleClick = () => {\r\n    this.props.onClick();\r\n    // scroll.scrollToBottom();\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" onClick={this.handleClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport { toast } from 'react-toastify';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23964778-a3e050be7e1391d793e3046e4';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    page: 1,\r\n    cards: [],\r\n    status: 'idle',\r\n    error: null,\r\n  };\r\n  fetchApi(text, page) {\r\n    return fetch(\r\n      `${BASE_URL}/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    ).then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(\r\n        new Error(`Нет результатов поиска по данному запросу`),\r\n      );\r\n    });\r\n  }\r\n\r\n  handleRenderPage() {\r\n    // const { page } = this.state;\r\n    // const { text } = this.props;\r\n    this.fetchApi(this.props.text, this.state.page)\r\n      .then(cards =>\r\n        // console.log(cards);\r\n        this.setState(prevState => ({\r\n          cards: [...prevState.cards, ...cards.hits],\r\n          status: 'resolved',\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ status: 'rejected' }));\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.setState({ status: 'pending' });\r\n      this.handleRenderPage();\r\n    }\r\n  }\r\n  render() {\r\n    const { error, status, cards } = this.state;\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n    if (cards.length < 1) {\r\n      return toast.error(`Нет результатов поиска по данному запросу`);\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <div>\r\n          <ul className={s.gallery}>\r\n            {cards.map(card => (\r\n              <ImageGalleryItem card={card} key={card.id} />\r\n            ))}\r\n          </ul>\r\n          <Button onClick={this.handleRenderPage} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {};\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nexport default class App extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n  handleFormSubmit = text => {\r\n    this.setState({ text });\r\n  };\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {}\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ToastContainer />\r\n        <ImageGallery text={this.state.text} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3KMqL\",\"form\":\"Searchbar_form__121O0\",\"button\":\"Searchbar_button__1xNku\",\"buttonLabel\":\"Searchbar_buttonLabel__26Bc2\",\"input\":\"Searchbar_input__3fir2\"};"],"sourceRoot":""}