{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","component/Button/Button.module.css","component/ImageGallery/ImageGallery.module.css","component/App/App.module.css","component/Searchbar/Searchbar.jsx","component/Modal/Modal.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Loader/Loader.jsx","component/Button/Button.jsx","component/apiService.jsx","component/ImageGallery/ImageGallery.jsx","component/App/App.jsx","index.js","component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","text","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","searchbar","this","form","type","button","input","name","onChange","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","src","tags","createPortal","overlay","onClick","modal","alt","width","ImageGalleryItem","showModal","toggleModal","card","imageGalleryItem","webformatURL","imageGalleryItemImage","largeImageURL","id","Loader","role","size","Button","handleClick","scroll","scrollToBottom","api","fetchApi","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","cards","status","handleRenderPage","prevState","hits","catch","handleAddPage","prevProps","length","gallery","map","App","handleFormSubmit","ReactDOM","render","StrictMode","app","getElementById"],"mappings":"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","file":"static/js/main.d92a2296.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3Y7HW\",\"modal\":\"Modal_modal__3UlS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3zw6h\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2t-xa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1UYt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1zUHZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__37JOc\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ text: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Поле не должно быть пустым');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({ text: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch />\r\n          </button>\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"text\"\r\n            value={this.state.text}\r\n            onChange={this.handleInputChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={tags} width={960} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Modal from 'component/Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n  render() {\r\n    const { card } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <li key={card.id} className={s.imageGalleryItem}>\r\n        <img\r\n          onClick={this.toggleModal}\r\n          src={card.webformatURL}\r\n          alt=\"\"\r\n          className={s.imageGalleryItemImage}\r\n        />\r\n        {showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            src={card.largeImageURL}\r\n            alt={card.tags}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import { ImSpinner } from 'react-icons/im';\r\nimport React from 'react';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <ImSpinner size=\"32\" />\r\n      Загружаем...\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport s from './Button.module.css';\r\nexport default class Button extends Component {\r\n  handleClick = () => {\r\n    this.props.onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.button} onClick={this.handleClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","const BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23964778-a3e050be7e1391d793e3046e4';\r\n\r\nfunction fetchApi(text, page) {\r\n  return fetch(\r\n    `${BASE_URL}/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`Нет результатов поиска по данному запросу`),\r\n    );\r\n  });\r\n}\r\nconst api = { fetchApi };\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport api from '../apiService';\r\nimport s from './ImageGallery.module.css';\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    cards: [],\r\n    status: 'idle',\r\n  };\r\n\r\n  handleRenderPage = () => {\r\n    const { text, page } = this.props;\r\n\r\n    api\r\n      .fetchApi(text, page)\r\n      .then(cards =>\r\n        this.setState(prevState => ({\r\n          cards: [...prevState.cards, ...cards.hits],\r\n          status: 'resolved',\r\n          page: 2,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ status: 'rejected' }));\r\n  };\r\n\r\n  handleAddPage = () => {\r\n    api\r\n      .fetchApi(this.props.text, this.state.page)\r\n      .then(cards =>\r\n        this.setState(prevState => ({\r\n          cards: [...prevState.cards, ...cards.hits],\r\n          status: 'resolved',\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ status: 'rejected' }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.setState({ status: 'pending', cards: [] });\r\n      this.handleRenderPage();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { status, cards } = this.state;\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n    if (!cards.length) {\r\n      return <h2>Нет результатов поиска по данному запросу</h2>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ul className={s.gallery}>\r\n            {cards.map(card => (\r\n              <ImageGalleryItem card={card} key={card.id} />\r\n            ))}\r\n          </ul>\r\n          <Button onClick={this.handleAddPage} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nexport default class App extends Component {\r\n  state = {\r\n    text: '',\r\n    page: 1,\r\n  };\r\n\r\n  handleFormSubmit = text => {\r\n    this.setState({ text: text });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n\r\n        <ImageGallery text={this.state.text} page={this.state.page} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App/App';\nimport s from '../src/component/App/App.module.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s.app} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3KMqL\",\"form\":\"Searchbar_form__121O0\",\"button\":\"Searchbar_button__1xNku\",\"buttonLabel\":\"Searchbar_buttonLabel__26Bc2\",\"input\":\"Searchbar_input__3fir2\"};"],"sourceRoot":""}